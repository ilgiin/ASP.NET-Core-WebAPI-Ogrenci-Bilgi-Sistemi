<!DOCTYPE html>
<html>
<head>
    <title>Ögrenci Güncelle</title>
    <style>

        h1 {
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
        }

        div {
            margin: auto;
        }
    </style>



    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>


<body>
    <h1 class="mt-4">Ögrenci Güncelle</h1>
    <br />
    <br />

    <div class="container mt-4 ">
        <div class="row">
            <div class="col-12 col-md-6 offset-md-3 col-lg-4 offset-lg-4"></div>
            <form id="updateStudentForm" action="https://localhost:7219/api/Students">

                <div class="mb-3 col-md-6 form-group ">
                    <label for="exampleInputNo" class="form-label">No</label>
                    <input type="number" class="form-control" id="no" name="No" placeholder="No" required minlength="1" maxlength="3">
                </div>
              
                <div class="form-row  ">
                    <div class="mb-3 col-md-6 form-group">
                        <label for="exampleInputName" class="form-label">Name</label>
                        <input type="text" class="form-control" id="name" name="Name" placeholder="Name" required minlength="3" maxlength="50">
                    </div>

                    <div class="mb-3 col-md-6 form-group">
                        <label for="exampleInputSurname" class="form-label">Surname</label>
                        <input type="text" class="form-control" id="surname" name="Surname" placeholder="Surname" required minlength="3" maxlength="50">
                    </div>



                </div>




                <button type="submit" class="btn btn-primary">Ögrenci güncelle</button>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('updateStudentForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the form from submitting the default way

            // Get the form values
            const studentNo = document.getElementById('no').value;
            const studentName = document.getElementById('name').value;
            const studentSurname = document.getElementById('surname').value;

            // Construct the URL with the student number
            const url = `https://localhost:7219/api/Students/${studentNo}`;

            // Fetch API to send the PUT request to the server
            fetch(url, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: studentName,
                    surname: studentSurname,
                    no: studentNo
                })
            })
                .then(response => {
                    if (response.ok) {
                        alert("Student updated successfully!");
                    } else {
                        alert("Failed to update student.");
                    }
                })
                .catch(error => {
                    console.error('There was an error:', error);
                    alert("An error occurred while updating the student.");
                });
        });
    </script>






    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>